<p-toast></p-toast>
<p-toolbar styleClass="mb-4 gap-2">
  <ng-template pTemplate="left">
    <span class="fs-2 fw-medium text-primary-emphasis">Menüyü Güncelle</span>
  </ng-template>
  <ng-template pTemplate="right">
      <p-button styleClass="p-button-sm p-button-raised p-button-text" label="Yeni Kategori" icon="pi pi-plus" class="mr-2" (click)="openNewCategoryDialog()"></p-button>
      <p-button styleClass="p-button-sm p-button-raised p-button-text p-button-success" label="Sıralamayı Kaydet" icon="pi pi-check" (click)="setCategoryPlacement()"></p-button>
  </ng-template>
</p-toolbar>
<div class="container-xxl card" cdkDropList (cdkDropListDropped)="drop($event)">
    <div class="example-box" *ngFor="let category of categories" cdkDrag>
      {{category.title}}
      <div>
        <p-button class="mr-2" label="Ürün Ekle" [style]="{border:'0px'}" styleClass="p-button-link" (click)="clicked(category)"></p-button>
        <p-button styleClass="p-button-sm p-button-raised p-button-danger" icon="pi pi-trash"></p-button>
      </div>
    </div>
</div>
<p-dialog [(visible)]="newCategoryDialog" [closable]="false" [style]="{minWidth: '30rem'}" class="newCategoryDialog" header="Kategori Ekle" [modal]="true" styleClass="p-fluid">
  <ng-template pTemplate="content">
    <div class="flex flex-column gap-2">
      <label htmlFor="username">Kategori Adı</label>
      <input pInputText id="username" aria-describedby="username-help" [(ngModel)]="newCategoryName"/>
    </div>
  </ng-template>
  <ng-template pTemplate="footer">
    <p-button label="İptal" icon="pi pi-times" styleClass="p-button-raised p-button-text p-button-secondary" (onClick)="closeNewCategoryDialog()"></p-button>
    <p-button label="Ekle" icon="pi pi-check" styleClass="p-button-raised p-button-text p-button-success" (onClick)="addNewCategory()"></p-button>
  </ng-template>
</p-dialog>